{"ast":null,"code":"'use strict';\n\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"E:\\\\Users\\\\Nayla\\\\Escritorio\\\\UADEE\\\\Distribuidas desk\\\\codigoAPP\\\\node_modules\\\\react-native-modal-selector\\\\index.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport View from \"react-native-web/dist/exports/View\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport { ViewPropTypes as RNViewPropTypes } from \"react-native-web/dist/index\";\nimport styles from \"./style\";\nvar ViewPropTypes = RNViewPropTypes || View.propTypes;\nvar componentIndex = 0;\nvar propTypes = {\n  data: PropTypes.array,\n  onChange: PropTypes.func,\n  onModalOpen: PropTypes.func,\n  onModalClose: PropTypes.func,\n  keyExtractor: PropTypes.func,\n  labelExtractor: PropTypes.func,\n  visible: PropTypes.bool,\n  closeOnChange: PropTypes.bool,\n  initValue: PropTypes.string,\n  animationType: PropTypes.oneOf(['none', 'slide', 'fade']),\n  style: ViewPropTypes.style,\n  selectStyle: ViewPropTypes.style,\n  selectTextStyle: Text.propTypes.style,\n  optionStyle: ViewPropTypes.style,\n  optionTextStyle: Text.propTypes.style,\n  optionContainerStyle: ViewPropTypes.style,\n  sectionStyle: ViewPropTypes.style,\n  childrenContainerStyle: ViewPropTypes.style,\n  touchableStyle: ViewPropTypes.style,\n  touchableActiveOpacity: PropTypes.number,\n  sectionTextStyle: Text.propTypes.style,\n  selectedItemTextStyle: Text.propTypes.style,\n  cancelContainerStyle: ViewPropTypes.style,\n  cancelStyle: ViewPropTypes.style,\n  cancelTextStyle: Text.propTypes.style,\n  overlayStyle: ViewPropTypes.style,\n  initValueTextStyle: Text.propTypes.style,\n  cancelText: PropTypes.string,\n  disabled: PropTypes.bool,\n  supportedOrientations: PropTypes.arrayOf(PropTypes.oneOf(['portrait', 'portrait-upside-down', 'landscape', 'landscape-left', 'landscape-right'])),\n  keyboardShouldPersistTaps: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n  backdropPressToClose: PropTypes.bool,\n  openButtonContainerAccessible: PropTypes.bool,\n  listItemAccessible: PropTypes.bool,\n  cancelButtonAccessible: PropTypes.bool,\n  scrollViewAccessible: PropTypes.bool,\n  scrollViewAccessibilityLabel: PropTypes.string,\n  cancelButtonAccessibilityLabel: PropTypes.string,\n  passThruProps: PropTypes.object,\n  selectTextPassThruProps: PropTypes.object,\n  optionTextPassThruProps: PropTypes.object,\n  cancelTextPassThruProps: PropTypes.object,\n  scrollViewPassThruProps: PropTypes.object,\n  modalOpenerHitSlop: PropTypes.object,\n  customSelector: PropTypes.node,\n  selectedKey: PropTypes.any,\n  enableShortPress: PropTypes.bool,\n  enableLongPress: PropTypes.bool,\n  optionsTestIDPrefix: PropTypes.string\n};\nvar defaultProps = {\n  data: [],\n  onChange: function onChange() {},\n  onModalOpen: function onModalOpen() {},\n  onModalClose: function onModalClose() {},\n  keyExtractor: function keyExtractor(item) {\n    return item.key;\n  },\n  labelExtractor: function labelExtractor(item) {\n    return item.label;\n  },\n  componentExtractor: function componentExtractor(item) {\n    return item.component;\n  },\n  visible: false,\n  closeOnChange: true,\n  initValue: 'Select me!',\n  animationType: 'slide',\n  style: {},\n  selectStyle: {},\n  selectTextStyle: {},\n  optionStyle: {},\n  optionTextStyle: {},\n  optionContainerStyle: {},\n  sectionStyle: {},\n  childrenContainerStyle: {},\n  touchableStyle: {},\n  touchableActiveOpacity: 0.2,\n  sectionTextStyle: {},\n  selectedItemTextStyle: {},\n  cancelContainerStyle: {},\n  cancelStyle: {},\n  cancelTextStyle: {},\n  overlayStyle: {},\n  initValueTextStyle: {},\n  cancelText: 'cancel',\n  disabled: false,\n  supportedOrientations: ['portrait', 'landscape'],\n  keyboardShouldPersistTaps: 'always',\n  backdropPressToClose: false,\n  openButtonContainerAccessible: false,\n  listItemAccessible: false,\n  cancelButtonAccessible: false,\n  scrollViewAccessible: false,\n  scrollViewAccessibilityLabel: \"\",\n  cancelButtonAccessibilityLabel: \"\",\n  passThruProps: {},\n  selectTextPassThruProps: {},\n  optionTextPassThruProps: {},\n  cancelTextPassThruProps: {},\n  scrollViewPassThruProps: {},\n  modalOpenerHitSlop: {\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0\n  },\n  customSelector: undefined,\n  selectedKey: '',\n  enableShortPress: true,\n  enableLongPress: false,\n  optionsTestIDPrefix: 'default'\n};\n\nvar ModalSelector = function (_React$Component) {\n  _inherits(ModalSelector, _React$Component);\n\n  var _super = _createSuper(ModalSelector);\n\n  function ModalSelector(props) {\n    var _this;\n\n    _classCallCheck(this, ModalSelector);\n\n    _this = _super.call(this, props);\n\n    _this.validateSelectedKey = function (key) {\n      var selectedItem = _this.props.data.filter(function (item) {\n        return _this.props.keyExtractor(item) === key;\n      });\n\n      var selectedLabel = selectedItem.length > 0 ? _this.props.labelExtractor(selectedItem[0]) : _this.props.initValue;\n      var selectedKey = selectedItem.length > 0 ? key : undefined;\n      return {\n        label: selectedLabel,\n        key: selectedKey\n      };\n    };\n\n    _this.onChange = function (item) {\n      _this.props.onChange(item);\n\n      _this.setState({\n        selected: _this.props.labelExtractor(item),\n        changedItem: item\n      }, function () {\n        if (_this.props.closeOnChange) _this.close(item);\n      });\n    };\n\n    _this.close = function (item) {\n      _this.props.onModalClose(item);\n\n      _this.setState({\n        modalVisible: false\n      });\n    };\n\n    _this.open = function () {\n      var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      if (!params.longPress && !_this.props.enableShortPress) {\n        return;\n      }\n\n      if (params.longPress && !_this.props.enableLongPress) {\n        return;\n      }\n\n      _this.props.onModalOpen(params);\n\n      _this.setState({\n        modalVisible: true,\n        changedItem: undefined\n      });\n    };\n\n    _this.renderSection = function (section) {\n      var optionComponent = _this.props.componentExtractor(section);\n\n      var component = optionComponent || React.createElement(Text, {\n        style: [styles.sectionTextStyle, _this.props.sectionTextStyle],\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 11\n        }\n      }, _this.props.labelExtractor(section));\n      return React.createElement(View, {\n        key: _this.props.keyExtractor(section),\n        style: [styles.sectionStyle, _this.props.sectionStyle],\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 13\n        }\n      }, component);\n    };\n\n    _this.renderOption = function (option, isLastItem, isFirstItem) {\n      var optionComponent = _this.props.componentExtractor(option);\n\n      var optionLabel = _this.props.labelExtractor(option);\n\n      var isSelectedItem = optionLabel === _this.state.selected;\n      var component = optionComponent || React.createElement(Text, _extends({\n        style: [styles.optionTextStyle, _this.props.optionTextStyle, isSelectedItem && _this.props.selectedItemTextStyle]\n      }, _this.props.optionTextPassThruProps, {\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 11\n        }\n      }), optionLabel);\n      return React.createElement(TouchableOpacity, _extends({\n        key: _this.props.keyExtractor(option),\n        testID: option.testID || _this.props.optionsTestIDPrefix + '-' + optionLabel,\n        onPress: function onPress() {\n          return _this.onChange(option);\n        },\n        activeOpacity: _this.props.touchableActiveOpacity,\n        accessible: _this.props.listItemAccessible,\n        accessibilityLabel: option.accessibilityLabel || undefined,\n        importantForAccessibility: isFirstItem ? 'yes' : 'no'\n      }, _this.props.passThruProps, {\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 13\n        }\n      }), React.createElement(View, {\n        style: [styles.optionStyle, _this.props.optionStyle, isLastItem && {\n          borderBottomWidth: 0\n        }],\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 17\n        }\n      }, component));\n    };\n\n    _this.renderOptionList = function () {\n      var _this$props = _this.props,\n          data = _this$props.data,\n          backdropPressToClose = _this$props.backdropPressToClose,\n          scrollViewPassThruProps = _this$props.scrollViewPassThruProps,\n          overlayStyle = _this$props.overlayStyle,\n          optionContainerStyle = _this$props.optionContainerStyle,\n          keyboardShouldPersistTaps = _this$props.keyboardShouldPersistTaps,\n          scrollViewAccessible = _this$props.scrollViewAccessible,\n          scrollViewAccessibilityLabel = _this$props.scrollViewAccessibilityLabel,\n          cancelContainerStyle = _this$props.cancelContainerStyle,\n          touchableActiveOpacity = _this$props.touchableActiveOpacity,\n          cancelButtonAccessible = _this$props.cancelButtonAccessible,\n          cancelButtonAccessibilityLabel = _this$props.cancelButtonAccessibilityLabel,\n          cancelStyle = _this$props.cancelStyle,\n          cancelTextStyle = _this$props.cancelTextStyle,\n          cancelText = _this$props.cancelText;\n      var options = data.map(function (item, index) {\n        if (item.section) {\n          return _this.renderSection(item);\n        }\n\n        return _this.renderOption(item, index === data.length - 1, index === 0);\n      });\n      var Overlay = View;\n      var overlayProps = {\n        style: {\n          flex: 1\n        }\n      };\n\n      if (backdropPressToClose) {\n        Overlay = TouchableWithoutFeedback;\n        overlayProps = {\n          key: \"modalSelector\" + componentIndex++,\n          accessible: false,\n          onPress: _this.close\n        };\n      }\n\n      var optionsContainerStyle = {\n        paddingHorizontal: 10\n      };\n\n      if (scrollViewPassThruProps && scrollViewPassThruProps.horizontal) {\n        optionsContainerStyle.flexDirection = 'row';\n      }\n\n      return React.createElement(Overlay, _extends({}, overlayProps, {\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 13\n        }\n      }), React.createElement(View, {\n        style: [styles.overlayStyle, overlayStyle],\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 17\n        }\n      }, React.createElement(View, {\n        style: [styles.optionContainer, optionContainerStyle],\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 21\n        }\n      }, React.createElement(ScrollView, _extends({\n        keyboardShouldPersistTaps: keyboardShouldPersistTaps,\n        accessible: scrollViewAccessible,\n        accessibilityLabel: scrollViewAccessibilityLabel\n      }, scrollViewPassThruProps, {\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 25\n        }\n      }), React.createElement(View, {\n        style: optionsContainerStyle,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 29\n        }\n      }, options))), React.createElement(View, {\n        style: [styles.cancelContainer, cancelContainerStyle],\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 21\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: _this.close,\n        activeOpacity: touchableActiveOpacity,\n        accessible: cancelButtonAccessible,\n        accessibilityLabel: cancelButtonAccessibilityLabel,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 25\n        }\n      }, React.createElement(View, {\n        style: [styles.cancelStyle, cancelStyle],\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 29\n        }\n      }, React.createElement(Text, _extends({\n        style: [styles.cancelTextStyle, cancelTextStyle]\n      }, _this.props.cancelTextPassThruProps, {\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 33\n        }\n      }), cancelText))))));\n    };\n\n    _this.renderChildren = function () {\n      if (_this.props.children) {\n        return _this.props.children;\n      }\n\n      var initSelectStyle = _this.props.initValue === _this.state.selected ? [styles.initValueTextStyle, _this.props.initValueTextStyle] : [styles.selectTextStyle, _this.props.selectTextStyle];\n      return React.createElement(View, {\n        style: [styles.selectStyle, _this.props.selectStyle],\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, _extends({\n        style: initSelectStyle\n      }, _this.props.selectTextPassThruProps, {\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 17\n        }\n      }), _this.state.selected));\n    };\n\n    var _selectedItem = _this.validateSelectedKey(props.selectedKey);\n\n    _this.state = {\n      modalVisible: props.visible,\n      selected: _selectedItem.label,\n      cancelText: props.cancelText,\n      changedItem: _selectedItem.key\n    };\n    return _this;\n  }\n\n  _createClass(ModalSelector, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      var newState = {};\n      var doUpdate = false;\n\n      if (prevProps.initValue !== this.props.initValue) {\n        newState.selected = this.props.initValue;\n        doUpdate = true;\n      }\n\n      if (prevProps.visible !== this.props.visible) {\n        newState.modalVisible = this.props.visible;\n        doUpdate = true;\n      }\n\n      if (prevProps.selectedKey !== this.props.selectedKey || prevProps.data !== this.props.data) {\n        var selectedItem = this.validateSelectedKey(this.props.selectedKey);\n        newState.selected = selectedItem.label;\n        newState.changedItem = selectedItem.key;\n        doUpdate = true;\n      }\n\n      if (doUpdate) {\n        this.setState(newState);\n      }\n    }\n  }, {\n    key: \"getSelectedItem\",\n    value: function getSelectedItem() {\n      return this.state.changedItem;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var dp = React.createElement(Modal, {\n        transparent: true,\n        ref: function ref(element) {\n          return _this2.model = element;\n        },\n        supportedOrientations: this.props.supportedOrientations,\n        visible: this.state.modalVisible,\n        onRequestClose: this.close,\n        animationType: this.props.animationType,\n        onDismiss: function onDismiss() {\n          return _this2.state.changedItem && _this2.props.onChange(_this2.state.changedItem);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 13\n        }\n      }, this.renderOptionList());\n      return React.createElement(View, _extends({\n        style: this.props.style\n      }, this.props.passThruProps, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 13\n        }\n      }), dp, this.props.customSelector ? this.props.customSelector : React.createElement(TouchableOpacity, {\n        hitSlop: this.props.modalOpenerHitSlop,\n        activeOpacity: this.props.touchableActiveOpacity,\n        style: this.props.touchableStyle,\n        onPress: this.open,\n        onLongPress: function onLongPress() {\n          return _this2.open({\n            longPress: true\n          });\n        },\n        disabled: this.props.disabled,\n        accessible: this.props.openButtonContainerAccessible,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 21\n        }\n      }, React.createElement(View, {\n        style: this.props.childrenContainerStyle,\n        pointerEvents: \"none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 25\n        }\n      }, this.renderChildren())));\n    }\n  }]);\n\n  return ModalSelector;\n}(React.Component);\n\nexport { ModalSelector as default };\nModalSelector.propTypes = propTypes;\nModalSelector.defaultProps = defaultProps;","map":{"version":3,"sources":["E:/Users/Nayla/Escritorio/UADEE/Distribuidas desk/codigoAPP/node_modules/react-native-modal-selector/index.js"],"names":["React","PropTypes","ViewPropTypes","RNViewPropTypes","styles","View","propTypes","componentIndex","data","array","onChange","func","onModalOpen","onModalClose","keyExtractor","labelExtractor","visible","bool","closeOnChange","initValue","string","animationType","oneOf","style","selectStyle","selectTextStyle","Text","optionStyle","optionTextStyle","optionContainerStyle","sectionStyle","childrenContainerStyle","touchableStyle","touchableActiveOpacity","number","sectionTextStyle","selectedItemTextStyle","cancelContainerStyle","cancelStyle","cancelTextStyle","overlayStyle","initValueTextStyle","cancelText","disabled","supportedOrientations","arrayOf","keyboardShouldPersistTaps","oneOfType","backdropPressToClose","openButtonContainerAccessible","listItemAccessible","cancelButtonAccessible","scrollViewAccessible","scrollViewAccessibilityLabel","cancelButtonAccessibilityLabel","passThruProps","object","selectTextPassThruProps","optionTextPassThruProps","cancelTextPassThruProps","scrollViewPassThruProps","modalOpenerHitSlop","customSelector","node","selectedKey","any","enableShortPress","enableLongPress","optionsTestIDPrefix","defaultProps","item","key","label","componentExtractor","component","top","bottom","left","right","undefined","ModalSelector","props","validateSelectedKey","selectedItem","filter","selectedLabel","length","setState","selected","changedItem","close","modalVisible","open","params","longPress","renderSection","section","optionComponent","renderOption","option","isLastItem","isFirstItem","optionLabel","isSelectedItem","state","testID","accessibilityLabel","borderBottomWidth","renderOptionList","options","map","index","Overlay","overlayProps","flex","TouchableWithoutFeedback","accessible","onPress","optionsContainerStyle","paddingHorizontal","horizontal","flexDirection","optionContainer","cancelContainer","renderChildren","children","initSelectStyle","prevProps","prevState","newState","doUpdate","dp","element","model","Component"],"mappings":"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","sourcesContent":["'use strict';\r\n\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport {\r\n    View,\r\n    Modal,\r\n    Text,\r\n    ScrollView,\r\n    TouchableOpacity,\r\n    TouchableWithoutFeedback,\r\n    ViewPropTypes as RNViewPropTypes,\r\n} from 'react-native';\r\n\r\nimport styles from './style';\r\n\r\nconst ViewPropTypes = RNViewPropTypes || View.propTypes;\r\n\r\nlet componentIndex = 0;\r\n\r\nconst propTypes = {\r\n    data:                           PropTypes.array,\r\n    onChange:                       PropTypes.func,\r\n    onModalOpen:                    PropTypes.func,\r\n    onModalClose:                   PropTypes.func,\r\n    keyExtractor:                   PropTypes.func,\r\n    labelExtractor:                 PropTypes.func,\r\n    visible:                        PropTypes.bool,\r\n    closeOnChange:                  PropTypes.bool,\r\n    initValue:                      PropTypes.string,\r\n    animationType:                  PropTypes.oneOf(['none', 'slide', 'fade']),\r\n    style:                          ViewPropTypes.style,\r\n    selectStyle:                    ViewPropTypes.style,\r\n    selectTextStyle:                Text.propTypes.style,\r\n    optionStyle:                    ViewPropTypes.style,\r\n    optionTextStyle:                Text.propTypes.style,\r\n    optionContainerStyle:           ViewPropTypes.style,\r\n    sectionStyle:                   ViewPropTypes.style,\r\n    childrenContainerStyle:         ViewPropTypes.style,\r\n    touchableStyle:                 ViewPropTypes.style,\r\n    touchableActiveOpacity:         PropTypes.number,\r\n    sectionTextStyle:               Text.propTypes.style,\r\n    selectedItemTextStyle:          Text.propTypes.style,\r\n    cancelContainerStyle:           ViewPropTypes.style,\r\n    cancelStyle:                    ViewPropTypes.style,\r\n    cancelTextStyle:                Text.propTypes.style,\r\n    overlayStyle:                   ViewPropTypes.style,\r\n    initValueTextStyle:             Text.propTypes.style,\r\n    cancelText:                     PropTypes.string,\r\n    disabled:                       PropTypes.bool,\r\n    supportedOrientations:          PropTypes.arrayOf(\r\n                                      PropTypes.oneOf([\r\n                                        'portrait',\r\n                                        'portrait-upside-down',\r\n                                        'landscape',\r\n                                        'landscape-left',\r\n                                        'landscape-right',\r\n                                      ]),\r\n                                    ),\r\n    keyboardShouldPersistTaps:      PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\r\n    backdropPressToClose:           PropTypes.bool,\r\n    openButtonContainerAccessible:  PropTypes.bool,\r\n    listItemAccessible:             PropTypes.bool,\r\n    cancelButtonAccessible:         PropTypes.bool,\r\n    scrollViewAccessible:           PropTypes.bool,\r\n    scrollViewAccessibilityLabel:   PropTypes.string,\r\n    cancelButtonAccessibilityLabel: PropTypes.string,\r\n    passThruProps:                  PropTypes.object,\r\n    selectTextPassThruProps:        PropTypes.object,\r\n    optionTextPassThruProps:        PropTypes.object,\r\n    cancelTextPassThruProps:        PropTypes.object,\r\n    scrollViewPassThruProps:        PropTypes.object,\r\n    modalOpenerHitSlop:             PropTypes.object,\r\n    customSelector:                 PropTypes.node,\r\n    selectedKey:                    PropTypes.any,\r\n    enableShortPress:               PropTypes.bool,\r\n    enableLongPress:                PropTypes.bool,\r\n    optionsTestIDPrefix:            PropTypes.string,\r\n};\r\n\r\nconst defaultProps = {\r\n    data:                           [],\r\n    onChange:                       () => {},\r\n    onModalOpen:                    () => {},\r\n    onModalClose:                   () => {},\r\n    keyExtractor:                   (item) => item.key,\r\n    labelExtractor:                 (item) => item.label,\r\n    componentExtractor:             (item) => item.component,\r\n    visible:                        false,\r\n    closeOnChange:                  true,\r\n    initValue:                      'Select me!',\r\n    animationType:                  'slide',\r\n    style:                          {},\r\n    selectStyle:                    {},\r\n    selectTextStyle:                {},\r\n    optionStyle:                    {},\r\n    optionTextStyle:                {},\r\n    optionContainerStyle:           {},\r\n    sectionStyle:                   {},\r\n    childrenContainerStyle:         {},\r\n    touchableStyle:                 {},\r\n    touchableActiveOpacity:         0.2,\r\n    sectionTextStyle:               {},\r\n    selectedItemTextStyle:          {},\r\n    cancelContainerStyle:           {},\r\n    cancelStyle:                    {},\r\n    cancelTextStyle:                {},\r\n    overlayStyle:                   {},\r\n    initValueTextStyle:             {},\r\n    cancelText:                     'cancel',\r\n    disabled:                       false,\r\n    supportedOrientations:          ['portrait', 'landscape'],\r\n    keyboardShouldPersistTaps:      'always',\r\n    backdropPressToClose:           false,\r\n    openButtonContainerAccessible:  false,\r\n    listItemAccessible:             false,\r\n    cancelButtonAccessible:         false,\r\n    scrollViewAccessible:           false,\r\n    scrollViewAccessibilityLabel:   \"\",\r\n    cancelButtonAccessibilityLabel: \"\",\r\n    passThruProps:                  {},\r\n    selectTextPassThruProps:        {},\r\n    optionTextPassThruProps:        {},\r\n    cancelTextPassThruProps:        {},\r\n    scrollViewPassThruProps:        {},\r\n    modalOpenerHitSlop:             {top: 0, bottom: 0, left: 0, right: 0},\r\n    customSelector:                 undefined,\r\n    selectedKey:                    '',\r\n    enableShortPress:               true,\r\n    enableLongPress:                false,\r\n    optionsTestIDPrefix:            'default',\r\n};\r\n\r\nexport default class ModalSelector extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        let selectedItem = this.validateSelectedKey(props.selectedKey);\r\n        this.state = {\r\n            modalVisible:  props.visible,\r\n            selected:      selectedItem.label,\r\n            cancelText:    props.cancelText,\r\n            changedItem:   selectedItem.key,\r\n        };\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        let newState = {};\r\n        let doUpdate = false;\r\n        if (prevProps.initValue !== this.props.initValue) {\r\n            newState.selected = this.props.initValue;\r\n            doUpdate = true;\r\n        }\r\n        if (prevProps.visible !== this.props.visible) {\r\n            newState.modalVisible = this.props.visible;\r\n            doUpdate = true;\r\n        }\r\n        if (prevProps.selectedKey !== this.props.selectedKey || prevProps.data !== this.props.data) {\r\n            let selectedItem = this.validateSelectedKey(this.props.selectedKey);\r\n            newState.selected = selectedItem.label;\r\n            newState.changedItem = selectedItem.key;\r\n            doUpdate = true;\r\n        }\r\n        if (doUpdate) {\r\n            this.setState(newState);\r\n        }\r\n    }\r\n\r\n    validateSelectedKey = (key) => {\r\n        let selectedItem = this.props.data.filter((item) => this.props.keyExtractor(item) === key);\r\n        let selectedLabel = selectedItem.length > 0 ? this.props.labelExtractor(selectedItem[0]) : this.props.initValue;\r\n        let selectedKey = selectedItem.length > 0 ? key : undefined;\r\n        return {label: selectedLabel, key: selectedKey}\r\n    }\r\n\r\n    onChange = (item) => {\r\n        this.props.onChange(item);\r\n        this.setState({ selected: this.props.labelExtractor(item), changedItem: item }, () => {\r\n          if (this.props.closeOnChange)\r\n            this.close(item);\r\n        });\r\n    }\r\n\r\n    getSelectedItem() {\r\n      return this.state.changedItem;\r\n    }\r\n\r\n    close = (item) => {\r\n        this.props.onModalClose(item);\r\n        this.setState({\r\n            modalVisible: false,\r\n        });\r\n    }\r\n\r\n    open = (params = {}) => {\r\n        if (!params.longPress && !this.props.enableShortPress) {\r\n          return;\r\n        }\r\n        if (params.longPress && !this.props.enableLongPress) {\r\n          return;\r\n        }\r\n        this.props.onModalOpen(params);\r\n        this.setState({\r\n            modalVisible: true,\r\n            changedItem:  undefined,\r\n        });\r\n    }\r\n\r\n    renderSection = (section) => {\r\n        const optionComponent = this.props.componentExtractor(section);\r\n        let component = optionComponent || (\r\n          <Text style={[styles.sectionTextStyle,this.props.sectionTextStyle]}>{this.props.labelExtractor(section)}</Text>\r\n        );\r\n\r\n        return (\r\n            <View key={this.props.keyExtractor(section)} style={[styles.sectionStyle,this.props.sectionStyle]}>\r\n                {component}\r\n            </View>\r\n        );\r\n    }\r\n\r\n    renderOption = (option, isLastItem, isFirstItem) => {\r\n        const optionComponent = this.props.componentExtractor(option);\r\n        const optionLabel = this.props.labelExtractor(option);\r\n        const isSelectedItem = optionLabel === this.state.selected;\r\n\r\n        let component = optionComponent || (\r\n          <Text style={[styles.optionTextStyle,this.props.optionTextStyle,isSelectedItem && this.props.selectedItemTextStyle]} {...this.props.optionTextPassThruProps}>\r\n              {optionLabel}\r\n          </Text>\r\n        );\r\n\r\n        return (\r\n            <TouchableOpacity\r\n              key={this.props.keyExtractor(option)}\r\n              testID={option.testID || this.props.optionsTestIDPrefix + '-' + optionLabel}\r\n              onPress={() => this.onChange(option)}\r\n              activeOpacity={this.props.touchableActiveOpacity}\r\n              accessible={this.props.listItemAccessible}\r\n              accessibilityLabel={option.accessibilityLabel || undefined}\r\n              importantForAccessibility={isFirstItem ? 'yes' : 'no'}\r\n              {...this.props.passThruProps}\r\n            >\r\n                <View style={[styles.optionStyle, this.props.optionStyle, isLastItem && {borderBottomWidth: 0}]}>\r\n                  {component}\r\n                </View>\r\n            </TouchableOpacity>);\r\n    }\r\n\r\n    renderOptionList = () => {\r\n        const {\r\n            data,\r\n            backdropPressToClose,\r\n            scrollViewPassThruProps,\r\n            overlayStyle,\r\n            optionContainerStyle,\r\n            keyboardShouldPersistTaps,\r\n            scrollViewAccessible,\r\n            scrollViewAccessibilityLabel,\r\n            cancelContainerStyle,\r\n            touchableActiveOpacity,\r\n            cancelButtonAccessible,\r\n            cancelButtonAccessibilityLabel,\r\n            cancelStyle,\r\n            cancelTextStyle,\r\n            cancelText,\r\n        } = this.props;\r\n\r\n        let options = data.map((item, index) => {\r\n            if (item.section) {\r\n                return this.renderSection(item);\r\n            }\r\n            return this.renderOption(item, index === data.length - 1, index === 0);\r\n        });\r\n\r\n        let Overlay = View;\r\n        let overlayProps = {\r\n            style: {flex:1}\r\n        };\r\n        // Some RN versions have a bug here, so making the property opt-in works around this problem\r\n        if (backdropPressToClose) {\r\n          Overlay = TouchableWithoutFeedback;\r\n          overlayProps = {\r\n              key: `modalSelector${componentIndex++}`,\r\n              accessible: false,\r\n              onPress: this.close\r\n          };\r\n        }\r\n\r\n        const optionsContainerStyle = {paddingHorizontal: 10};\r\n        if (scrollViewPassThruProps && scrollViewPassThruProps.horizontal) {\r\n          optionsContainerStyle.flexDirection = 'row';\r\n        }\r\n\r\n        return (\r\n            <Overlay {...overlayProps}>\r\n                <View style={[styles.overlayStyle, overlayStyle]}>\r\n                    <View style={[styles.optionContainer, optionContainerStyle]}>\r\n                        <ScrollView\r\n                            keyboardShouldPersistTaps={keyboardShouldPersistTaps}\r\n                            accessible={scrollViewAccessible}\r\n                            accessibilityLabel={scrollViewAccessibilityLabel}\r\n                            {...scrollViewPassThruProps}\r\n                        >\r\n                            <View style={optionsContainerStyle}>\r\n                                {options}\r\n                            </View>\r\n                        </ScrollView>\r\n                    </View>\r\n                    <View style={[styles.cancelContainer, cancelContainerStyle]}>\r\n                        <TouchableOpacity onPress={this.close} activeOpacity={touchableActiveOpacity} accessible={cancelButtonAccessible} accessibilityLabel={cancelButtonAccessibilityLabel}>\r\n                            <View style={[styles.cancelStyle, cancelStyle]}>\r\n                                <Text style={[styles.cancelTextStyle,cancelTextStyle]} {...this.props.cancelTextPassThruProps}>{cancelText}</Text>\r\n                            </View>\r\n                        </TouchableOpacity>\r\n                    </View>\r\n                </View>\r\n            </Overlay>);\r\n    }\r\n\r\n    renderChildren = () => {\r\n\r\n        if(this.props.children) {\r\n            return this.props.children;\r\n        }\r\n        let initSelectStyle = this.props.initValue === this.state.selected ?\r\n            [styles.initValueTextStyle, this.props.initValueTextStyle] : [styles.selectTextStyle, this.props.selectTextStyle];\r\n        return (\r\n            <View style={[styles.selectStyle, this.props.selectStyle]}>\r\n                <Text style={initSelectStyle} {...this.props.selectTextPassThruProps}>{this.state.selected}</Text>\r\n            </View>\r\n        );\r\n    }\r\n\r\n    render() {\r\n\r\n        const dp = (\r\n            <Modal\r\n                transparent={true}\r\n                ref={element => this.model = element}\r\n                supportedOrientations={this.props.supportedOrientations}\r\n                visible={this.state.modalVisible}\r\n                onRequestClose={this.close}\r\n                animationType={this.props.animationType}\r\n                onDismiss={() => this.state.changedItem && this.props.onChange(this.state.changedItem)}\r\n            >\r\n                {this.renderOptionList()}\r\n            </Modal>\r\n        );\r\n\r\n        return (\r\n            <View style={this.props.style} {...this.props.passThruProps}>\r\n                {dp}\r\n                {this.props.customSelector ?\r\n                    this.props.customSelector\r\n                    :\r\n                    <TouchableOpacity\r\n                        hitSlop={this.props.modalOpenerHitSlop}\r\n                        activeOpacity={this.props.touchableActiveOpacity}\r\n                        style={this.props.touchableStyle}\r\n                        onPress={this.open}\r\n                        onLongPress={() => this.open({longPress: true})}\r\n                        disabled={this.props.disabled}\r\n                        accessible={this.props.openButtonContainerAccessible}\r\n                    >\r\n                        <View style={this.props.childrenContainerStyle} pointerEvents=\"none\">\r\n                            {this.renderChildren()}\r\n                        </View>\r\n                    </TouchableOpacity>\r\n                }\r\n            </View>\r\n        );\r\n    }\r\n}\r\n\r\nModalSelector.propTypes = propTypes;\r\nModalSelector.defaultProps = defaultProps;\r\n"]},"metadata":{},"sourceType":"module"}